---
import SiteLayout from "../layouts/SiteLayout.astro";
import { projects } from "../data/projects";
---

<SiteLayout title="Projects — Alan Palayil" description="Selected projects and work highlights.">
  <h1>Projects</h1>
  <p class="sub">Featured work and technical builds. Fast scan: title → impact → stack.</p>

  <section class="grid">
    {projects
      .sort((a, b) => (b.featured === true) - (a.featured === true))
      .map((p) => (
        <article class="card">
          <div class="top">
            <h2>{p.title}</h2>
            <span class="date">{p.date}</span>
          </div>
          <p class="desc">{p.desc}</p>
          <div class="tags">
            {p.tags.map((t) => <span class="tag">{t}</span>)}
          </div>
          {p.links?.length ? (
            <div class="links">
              {p.links.map((l) => <a href={l.href} target="_blank" rel="noreferrer">{l.label} →</a>)}
            </div>
          ) : null}
        </article>
      ))}
  </section>

  <style>
    h1 { margin: 0 0 8px; font-size: 32px; }
    .sub { margin: 0 0 18px; color: var(--muted); line-height: 1.6; }
    .grid { display:grid; grid-template-columns: repeat(2, 1fr); gap: 14px; }
    .card { border: 1px solid var(--border); background: rgba(255,255,255,0.02); border-radius: 16px; padding: 14px; }
    .top { display:flex; justify-content:space-between; gap: 10px; align-items: baseline; }
    h2 { margin: 0; font-size: 16px; }
    .date { color: var(--muted); font-size: 13px; }
    .desc { margin: 10px 0 12px; color: var(--muted); line-height: 1.6; }
    .tags { display:flex; gap: 8px; flex-wrap: wrap; }
    .tag { border: 1px solid var(--border); color: var(--muted); padding: 6px 10px; border-radius: 999px; font-size: 13px; }
    .links { margin-top: 10px; display:flex; gap: 12px; flex-wrap: wrap; }
    .links a { color: var(--accent); }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; } }
  </style>
</SiteLayout>
